---
layout: post
title: "CTD压力校准的不确定度评定|Uncertainty-CTD-Pressure-Calibration"
categories: []
header-img: ""
tags: [Uncertainty,CTD,Pressure,Calibration]
description: Try to evaluate the uncertainty of Pressure sencer of CTD
---

## CTD压力校准的不确定度评定

>   Uncertainty of CTD Pressure Calibration

### 1.概述

本方法适用CTD压力校准、检测结果的不确定度评定。

### 2.数据模型

$$
Δp=p_{y}-p_{x}....................（1）
$$



式中：

-   $ Δp$：在各个校准点上的被校压力测量仪器的示值误差，MPa；

-   $ p_{y}$：在各个校准点上的被校压力测量仪器的压力示值，MPa；

-   $p_{x} $：在各个校准点上的标准压力值，MPa。

>   以SBE37 CTD的压力传感器测量结果为例说明。

### 3.不确定度来源分析

根据JJF1059.1-2012《测量不确定度评定与表示》，就CTD校准结果的测量不确定度进行分析评定，温度校准结果不确定度来源主要有5个因素：

-   被校仪器测量重复性引入的标准不确定度$u_{1}(p_{y})$
-   标准压力计引入的标准不确定度分量$u_{1}(p_{x})$
-   环境温度波动引入的标准不确定度分量$u_{2}( p_{x})$
-   液柱差引入的标准不确定度分量$u_{3}(p_{x})$
-   空气零点引入的标准不确定度$u_{4}(p_{x})$

### 4.测量不确定度评定 

#### 4.1 被校仪器测量重复性引入的不确定度$u(y)$

4.1.1测量重复性引入的不确定度$u(y)$

测量重复性引入的不确定度分量$u(y)$，可以通过在连续条件下测量数据列，用不确定度的A类评定方法获得。重复性为CTD在最高压力校准点上，压力值达到稳定后，分别进行6组测量。

以 SBE37SMP 为例，选取压力校准试验的最大压力点50MPa，重复测量六次，记录6组被校仪器值，求每组被校仪器压力的平均值，并使用贝塞尔公式计算其重复性。所得数据如表B.6所示。

4.1.2 当被校仪器的分辨力引入的不确定分量大约仪器重复性引入的不确度分量时，应该用分辨力引入的不确定分量代替重复性引入的不确度分量。若被校仪器的分辨力为$\delta_{rsl}$，则分辨力引入的标准不确定度分量$u(p_{rsl})$为0.29$\delta_{rsl}  $。由于常见被校准CTD 的压力分辨率为 0.00001MPa ~ 0.0001MPa，所以由分辨力引入的压力不确定度分量为$2.9×10^{-6}$ MPa ~  $2.9×10^{-5}$MPa。而由仪器测量重复性引起的不确定度通常在$10^{-4}$ MPa和$10^{-3}$MPa数量级的，所以通常情况均以被校仪器的重复性带来的不确定分量为准。

**表B.6 压力重复性测量数据**

| 序号 | 仪器压力示值  MPa | 示值平均值  MPa  （本列合并） | 重复性  MPa  （本列合并） |
| ---- | ----------------- | ----------------------------- | ------------------------- |
| 1    | 50.0889           | 50.0963                       | $3.63×10^{-3}$            |
| 2    | 50.0954           |                               |                           |
| 3    | 50.1004           |                               |                           |
| 4    | 50.0978           |                               |                           |
| 5    | 50.0985           |                               |                           |
| 6    | 50.0970           |                               |                           |

 

测量重复性引入的不确定度，可以在重复条件下连续测量得到一组数据列，用不确定度的A类评定方法得到。各检定点重复性测量的标准差可以按照式2计算，计算结果见表B.7。
$$
\sigma_p =\sqrt{\frac{\begin{equation*}\sum_{i=1}^n(p_{i}-\bar{p})^2\end{equation*}}{n-1}}
$$
式中：$\sigma_{p}$——CTD的压力重复性，MPa；$p_{i}$——CTD的第 i 次测量的压力示值，MPa；$ \bar{p}$—— CTD的第 n个 压力示值的平均值，MPa；n——重复测量次数，(n=6)。

计算得$\sigma_{p}$=$4.0×10^{-3}$MPa，因此被校仪器压力测量重复性引入的不确定度$u_1(p_y) $=$u(p_{rpt})$=$4.0×10^{-3}$MPa。

#### 4.2 标准装置引入的不确定度$u(x)$

标准装置引入的不确定分量主要有 4 个，均采用 B 类评定方法。

##### 4.2.1 标准压力计最大允许误差引入的标准不确定度分量$u_{1}( p_{x})$

标准活塞压力计是经上级计量机构进行检定或校准过的，在计量溯源周期内可以认为其保持计量特性状态不变。由其引入的测量不确定度分量为标准活塞压力计的最大允许误差（MPE）引起的，即在使用时其读数的百分比。

因此，由使用时标准压力计MPE引起的标准不确定度分量可以表示为：

-   $u_{1}(p_{x})=p_{\rm std-MPE}/\sqrt{3}=p_{\rm std-max}×Grade/(100×\sqrt{3})$

    >   其中：
    >
    >   -   $p_{ \rm std-max}$，为校准时所用时活塞的压力读数最大值，单位为 MPa；
    >
    >   -   $p_{\rm std-MPE}$，为MPE 的区间半宽，计算方法为$p_{\rm std-MPE}=p_{\rm std-max}×Grade/100$，单位为 MPa。
    >
    >   -   $Grade $ 是标准器的等级，即标准压力示值读数的百分比，例如0.005级时，$Grade $值为 0.005。

-   本例中，标准活塞式压力计为0.005级。在该标准活塞式压力计校准量程为（0~50）MPa 的 CTD 时，使用了该活塞压力计的校准上限压力$p_{\rm max}$，本例中其量值为50MPa。在此位置，由标准压力计的MPE的计算方式为：±0.005%×50MPa，即±0.0025MPa。由于其可能值分布区间半宽为0.0025MPa，在此区间服从均匀分布，取包含因子$\sqrt{3}$。
-   因此，$u_{1}(p_{x})=p_{\rm std-MPE}/\sqrt{3}=0.0025/\sqrt{3}≈0.00144=1.44×10^{-3}$MPa

>   注：
>
>   经查本例中使用的双活塞压力计的测量范围为（0.05~6）MPa 和 (1~60)MPa。其在（0.6~60）MPa内满足 MPE 为读数的0.005%；但是当其使用的范围低于 0.6MPa 时， 标准器的MPE 无法满足读数的0.005%，从而应引用0.6MPa 时的 MPE。即$ p_{\rm std-max}$永不低于0.00003MPa，而$u_{1}(p_{x})$最低不低于0.00001733MPa（$ 1.73×10^{-5}$MPa）。

##### 4.2.2  环境温度波动引入的标准不确定度分量$u_{2}(p_{x})$

由于检定规程中规定对于CTD最大允许误差优于±0.05%FS 的校准工作时环境温度要求为 (20±1)℃，而CTD最大允许误差劣于并包含0.1%FS 的校准工作时环境温度要求为 (20±5)℃。而我们实际校准工作中所采用的环境温度均满足上述要求，因此因此由该项引入的不确定度可忽略。

即，$u_{2}(p_{x})$=0 MPa

##### 4.2.3  液柱差引入的标准不确定度分量$u_{3}(p_{x})$

校准时，尽量将标准器与被校准压力传感器压力接口放在同一水平面上，然而人工控制的手段不能完全消除该项误差，预估还有10cm的液柱差，该液柱差产生的测量误差为：

$$ΔP=ρgh=860kg/m^{3}×9.8009150m/s^{2}×0.1m≈843Pa$$ 

液柱差产生的测量范围内服从均匀分布，则其引入的不确定度为：

$$u_{3}(P_{x})=（0.000843）/\sqrt{3}≈0.00049MPa=4.9×10^{-4}$$MPa

##### 4.2.4 空气零点引入的标准不确定度$u_{4}(p_{x})$

空气零点测量误差是由大气压力测量引入的不确定度，本文中大气压力测量值为1016.4hPa，在校准范围内服从均匀分布，则空气零点测量引入的不确定度为：

$$u_{4}(P_{x})=（1028.7-1013.25）/（10000×\sqrt{3}）=0.00089=8.9×10^{-4}$$MPa

>   我认为这种表述并不准确。具体来说，应该分为两种情况：
>
>   -   如果在校准过程中，不进行气压校正：那么整个校准过程中的标准压力值存在一个系统差（对于老活塞来说是这样的，但是对于 Fluke 半自动来说，其又会自动进行气压校正--这里又要分情况讨论）。
>       -   如果零点不进行大气压气压校正，直接作为零点：$u_{4}(p_{x})=(p_0-atm)/(10000×\sqrt{3})$
>       -   如果零点已经进行气压校正（Fluke 半自动）：其要考虑自带气压计的准确度等级。
>   -   如果在校准过程中，不进行气压校正：那么气压带来的不确定度分量是由“振筒气压计”的不确定度带来的。应该用振筒气压计的 $MPE_{振筒}/\sqrt{3}$
>   -   案例中，实际气压与标准气压之间的差了 3.15hPa，引入的 u是0.00018MPa；实际估计实验室中可能最大偏移为25hPa，因此引入的 u 最大值可能为0.00144MPa。

##### 4.2.5 标准装置引入的不确定度 $u(p_{x})$

标准压力计示值$ p_x$的各个标准不确定分量$u_{1}(p_{x})$、$u_{2}(p_{x})$、$u_{3}(p_{x})$、$u_{4}( p_{x})$互不关联，故输入量$p_x$的不确定度：

-   $u_(P_{x})=\sqrt{u_{1}^2(P_{x}) + u_{2}^2(P_{x}) +u_{3}^2(P_{x})+u_{4}^2(P_{x})  }$

    =$\sqrt{0.00144^2+0+0.00049^2+0.00089^2}$

    =0.00176MPa

#### 4.3 合成标准不确定度

##### 4.3.1 输入量的标准不确定分量汇总（表B.8）

**表B.8 输入量标准不确定各分量汇总表**

| 符号       | 不确定度来源       | 标准不确定度分量*u*（MPa） | $c_i$ |
| ---------- | ------------------ | -------------------------- | ----- |
| $u(p_y)$   | 被校压力测量仪器   | 0.00363                    | 1     |
| $u_1(p_y)$ | 测量重复性         | 0.00363                    | ---   |
| $u(p_x)$   | 标准装置           | 0.00176                    | -1    |
| $u_1(p_x)$ | 活塞压力计示值误差 | 0.00144                    | ---   |
| $u_2(p_x)$ | 环境温度影响       | 0                          | ---   |
| $u_3(p_x)$ | 液柱差             | 0.00049                    | ---   |
| $u_4(p_x)$ | 空气零点           | 0.00089                    | ---   |

##### 4.3.2 合成标准不确定度的计算

各分量彼此独立，所以合成不确定度为：

$u(\Delta P)=\sqrt{u^2(p_x)+u^2(p_y)}=\sqrt{0.00176^2+0.00363^2}=0.00403{\rm MPa}$

### 4.3 扩展不确定度的评定

取置信概率*p*=95%，*k*=2，则扩展不确定度为*U=*2×0.00403=0.00806MPa，相对扩展不确定度$U_{rel}$=0.02%，

满足被检仪器的最大允许误差要求。

### 5 评定结果

压力校准结果的相对扩展不确定度为:$U_{\rm rel}$=0.02%，$k$=2。



### 6.Ipython验证：

```
其他标准不确定度u(x)：
In [32]: math.sqrt((1.44* 10**-3)**2 + (4.9*10**-4)**2 + (8.9*10**-4)**2 )      
Out[32]: 0.0017623280057923383
---
重复性引入的不确定度u(y)：
0.003630978
---
合成标准不确定度：
In [35]: math.sqrt(0.0017623280057923383**2+0.00363**2)                         
Out[35]: 0.004035182771573055
---
扩展：
In [36]: 0.004035182771573055*2                                                 
Out[36]: 0.00807036554314611
---
取相对：
In [37]: 0.00807036554314611/50                                                 
Out[37]: 0.00016140731086292218
即：0.016%--》0.02%
```

## Ref



## Log

-   2020-05-11 小焱创建。



